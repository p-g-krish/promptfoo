# GitHub Models Provider Test Configuration
# This file demonstrates how to use various GitHub Models with promptfoo

description: "Test GitHub Models provider with latest models"

providers:
  # GPT-4.1 models (recommended)
  - id: gpt41
    provider: github:openai/gpt-4.1
    config:
      temperature: 0.7
      max_tokens: 4096
  
  - id: gpt41mini
    provider: github:openai/gpt-4.1-mini
    config:
      temperature: 0.5
      max_tokens: 2048
  
  - id: gpt41nano
    provider: github:openai/gpt-4.1-nano
    config:
      temperature: 0.3
      max_tokens: 1024
  
  # Other specialized models
  - id: codestral
    provider: github:azureml-mistral/Codestral-2501
    config:
      temperature: 0.1
      max_tokens: 2048
  
  - id: claude37
    provider: github:anthropic/claude-3.7-sonnet
    config:
      temperature: 0.7
  
  - id: o3mini
    provider: github:openai/o3-mini
    config:
      temperature: 0.2

prompts:
  - |
    Write a Python function that implements binary search.
    Include proper error handling and type hints.

tests:
  - description: "Binary search implementation"
    assert:
      - type: contains
        value: "def binary_search"
      - type: contains
        value: "left"
      - type: contains
        value: "right"
      - type: javascript
        value: |
          // Check for type hints
          output.includes('->') && output.includes(':')
      - type: javascript
        value: |
          // Check for error handling
          output.includes('try') || output.includes('if') || output.includes('raise')